(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a(194)},160:function(e,t,a){},184:function(e,t,a){e.exports=a.p+"static/media/Wallpaper_2.109bf96c.jpg"},185:function(e,t,a){e.exports=a.p+"static/media/Wallpaper_3.c511a19b.jpg"},186:function(e,t,a){e.exports=a.p+"static/media/Wallpaper_1.24c5e005.jpg"},190:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(24),l=a.n(o),s=a(62),c=a(14),i=a(16),u=a(15),m=a(10),d=a(13),p=a(17),h=a(109),E=a(195),g=a(196),f=a(197),b=a(198),v=a(199),N=a(200),w=a(228),x=a(203),y=a(204),k=a(205),O=a(206),M=a(207),S=a(208),C=a(201),L=a(229),F=a(230),j=a(202),_=a(209),D=a(210),P=a(231),I=a(11),T=a(5),A=(a(160),function(e){return e&&e.length}),R=function(e){return function(t){return!t||t.length<=e}},B=function(e){return function(t){return t&&t.length>=e}},q=function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},U=function(e){return!isNaN(Number(e))};function V(e){return!1===e.isSignedIn?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(h.a,{color:"warning",outline:!0,onClick:e.toggleRegister},n.a.createElement("span",{className:"fa fa-user-plus fa-lg"})," Register")):n.a.createElement(n.a.Fragment,null)}var G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={isNavOpen:!1,isModalOpen:!1,isRegisterOpen:!1,dropdownOpen:!1},a.toggleModal=a.toggleModal.bind(Object(m.a)(a)),a.toggleNav=a.toggleNav.bind(Object(m.a)(a)),a.handleLogin=a.handleLogin.bind(Object(m.a)(a)),a.handleLogout=a.handleLogout.bind(Object(m.a)(a)),a.toggleRegister=a.toggleRegister.bind(Object(m.a)(a)),a.toggle=a.toggle.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"toggleNav",value:function(){window.innerWidth<1200&&this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"toggleRegister",value:function(e){this.setState({isRegisterOpen:!this.state.isRegisterOpen})}},{key:"handleLogin",value:function(e){this.toggleModal(),this.props.loginUser({username:this.username.value,password:this.password.value}),e.preventDefault()}},{key:"handleLogout",value:function(){this.props.logoutUser()}},{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"render",value:function(){var e,t=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(E.a,{className:"nav-color ",dark:!0,expand:"md",fixed:"top"},n.a.createElement("div",{className:"container ml-3"},n.a.createElement(g.a,{onClick:this.toggleNav}),n.a.createElement(f.a,{className:"mr-4 text-warning brand",href:"/home"},"Bhejo"),n.a.createElement(b.a,{isOpen:this.state.isNavOpen,navbar:!0},n.a.createElement("div",{className:"nav-width align-center"},n.a.createElement(v.a,{navbar:!0},n.a.createElement(N.a,{className:"ml-4",onClick:this.toggleNav},n.a.createElement(I.c,{className:"nav-link text-warning",to:"/home"},n.a.createElement("span",{className:"fa fa-home fa-lg"})," Home")),n.a.createElement(C.a,{isOpen:this.state.dropdownOpen,toggle:this.toggle},n.a.createElement(L.a,{color:"Warning"},n.a.createElement("div",{className:"text-warning"},n.a.createElement("span",{className:"fa fa-gift fa-lg"})," Products \xa0 ",n.a.createElement("i",{className:"fa fa-caret-down fa-sm","aria-hidden":"true"}))),n.a.createElement(F.a,null,n.a.createElement(j.a,{onClick:this.toggleNav,tag:I.b,to:"/books"},"Books"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:I.b,to:"/bicycles"},"Bicycles"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:I.b,to:"/stationary"},"Stationary"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:I.b,to:"/electronics"},"Electronic Gadgets"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:I.b,to:"/clothes"},"Clothes"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:I.b,to:"/sports"},"Sports"),n.a.createElement(j.a,{onClick:this.toggleNav,tag:I.b,to:"/others"},"Others"))),n.a.createElement(N.a,{className:"ml-2",onClick:this.toggleNav},n.a.createElement(I.c,{className:"nav-link text-warning",to:"/search"},n.a.createElement("span",{className:"fa fa-search fa-lg"})," Search")),this.props.auth.isAuthenticated?n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{className:"ml-2",onClick:this.toggleNav},n.a.createElement(I.c,{className:"nav-link text-warning",to:"/favorites"},n.a.createElement("span",{className:"fa fa-heart fa-lg"})," My favorites"))):n.a.createElement("div",null),this.props.auth.isAuthenticated&&!this.props.auth.userinfo.admin?n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{className:"ml-2",onClick:this.toggleNav},n.a.createElement(I.c,{className:"nav-link text-warning",to:"/upload_product"},n.a.createElement("span",{className:"fa fa-upload fa-lg"})," Upload item")),n.a.createElement(N.a,{className:"ml-2",onClick:this.toggleNav},n.a.createElement(I.c,{className:"nav-link text-warning",to:"/uploads"},n.a.createElement("span",{className:"fa fa-list fa-lg"})," My uploads")),n.a.createElement(N.a,{onClick:this.toggleNav},n.a.createElement(I.c,{className:"nav-link text-warning",to:"/profile"},n.a.createElement("span",{className:"fa fa-user-circle-o fa-lg"})," ",this.props.auth.user&&this.props.auth.user.username))):n.a.createElement("div",null),this.props.auth.isAuthenticated&&this.props.auth.userinfo.admin?n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{onClick:this.toggleNav,className:"ml-2"},n.a.createElement(I.c,{className:"nav-link text-warning",to:"/pending"},n.a.createElement("span",{className:"fa fa-clock-o fa-lg"})," Products pending")),n.a.createElement(N.a,{onClick:this.toggleNav},n.a.createElement(I.c,{className:"nav-link text-warning",to:"/profile"},n.a.createElement("span",{className:"fa fa-user-circle-o fa-lg"})," ",this.props.auth.user&&this.props.auth.user.username))):n.a.createElement("div",null))),n.a.createElement(v.a,{navbar:!0},n.a.createElement(N.a,{className:"align-center"},this.props.auth.isAuthenticated?n.a.createElement("div",null,n.a.createElement(h.a,{outline:!0,color:"warning",onClick:this.handleLogout},n.a.createElement("span",{className:"fa fa-sign-out fa-lg"})," Logout",this.props.auth.isLoading?n.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-fw"}):null)):n.a.createElement(h.a,{outline:!0,color:"warning",onClick:this.toggleModal},n.a.createElement("span",{className:"fa fa-sign-in fa-lg"})," Login",this.props.auth.isLoading?n.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-fw"}):null),n.a.createElement(V,{isSignedIn:this.props.auth.isAuthenticated,toggleRegister:function(){t.toggleRegister()}})))))),n.a.createElement(w.a,{isOpen:!this.props.auth.isAuthenticated&&this.state.isModalOpen,toggle:this.toggleModal},n.a.createElement(x.a,{toggle:this.toggleModal},"Sign In"),n.a.createElement(y.a,null,n.a.createElement(k.a,{onSubmit:this.handleLogin},n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"username"},"Username"),n.a.createElement(S.a,{type:"text",id:"username",name:"username",innerRef:function(e){return t.username=e}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"password"},"Password"),n.a.createElement(S.a,{type:"password",id:"password",name:"password",innerRef:function(e){return t.password=e}})),n.a.createElement(h.a,{type:"submit",value:"submit",color:"warning"},"Login")))),n.a.createElement(w.a,{isOpen:this.state.isRegisterOpen,toggle:this.toggleRegister},n.a.createElement(x.a,{toggle:this.toggleRegister},"Register"),n.a.createElement(y.a,null,n.a.createElement(T.LocalForm,{model:"user",onSubmit:function(e){t.toggleRegister(),t.props.registerUser({username:e.username,password:e.password,email:e.email,room:e.room,block:e.block,hostel:e.hostel,phone:e.phone,showroom:e.showroom,showfacebook:e.showfacebook,showphone:e.showphone,facebookProfile:e.facebookProfile,firstname:e.firstname,lastname:e.lastname})}},n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"username"},"Username"),n.a.createElement(T.Control.text,{model:".username",id:"username",name:"username",className:"form-control",placeholder:"Username",validators:{required:A,minLength:B(3),maxLength:R(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".username",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"password"},"Password"),n.a.createElement(T.Control.password,{model:".password",id:"password",name:"password",className:"form-control",placeholder:"password",validators:{required:A,minLength:B(6),maxLength:R(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".password",show:"touched",messages:{required:"Required",minLength:" Must be greater than 5 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"firstname"},"First Name"),n.a.createElement(T.Control.text,{model:".firstname",id:"firstname",name:"firstname",className:"form-control",placeholder:"firstname",validators:{required:A,minLength:B(3),maxLength:R(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".firstname",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"lastname"},"Last Name"),n.a.createElement(T.Control.text,{model:".lastname",id:"lastname",name:"lastname",className:"form-control",placeholder:"lastname",validators:{required:A,minLength:B(3),maxLength:R(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".lastname",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"hostel"},"Hostel"),n.a.createElement(T.Control.select,{model:".hostel",id:"hostel",className:"form-control",defaultValue:"Jasper"},n.a.createElement("option",null,"Jasper")," ",n.a.createElement("option",null,"Amber"),n.a.createElement("option",null,"Topaz")," ",n.a.createElement("option",null,"Sapphire"),n.a.createElement("option",null,"Diamond")," ",n.a.createElement("option",null,"Emerald"),n.a.createElement("option",null,"Ruby")," ",n.a.createElement("option",null,"Rosaline"),n.a.createElement("option",null,"Opal"))),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"block"},"Block"),n.a.createElement(T.Control.select,{model:".block",id:"block",className:"form-control",defaultValue:"A"},n.a.createElement("option",null,"A")," ",n.a.createElement("option",null,"B"),n.a.createElement("option",null,"C")," ",n.a.createElement("option",null,"D"))),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"room"},"Room No."),n.a.createElement(T.Control.text,{model:".room",id:"room",name:"room",className:"form-control",placeholder:"room",validators:{required:A,maxLength:R(4),isNumber:U}}),n.a.createElement(T.Errors,{className:"text-danger",model:".room",show:"touched",messages:{required:"Required",maxLength:" Must be 4 characters or less",isNumber:" Must be a number"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"email"},"E-mail"),n.a.createElement(T.Control.text,{model:".email",id:"email",name:"email",className:"form-control",placeholder:"email",validators:{required:A,validEmail:q}}),n.a.createElement(T.Errors,{className:"text-danger",model:".email",show:"touched",messages:{required:"Required",validEmail:" Enter a valid email"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"phone"},"Contact No."),n.a.createElement(T.Control.text,{model:".phone",id:"phone",name:"phone",className:"form-control",placeholder:"phone",validators:{required:A,minLength:B(10),maxLength:R(10),isNumber:U}}),n.a.createElement(T.Errors,{className:"text-danger",model:".phone",show:"touched",messages:{required:"Required",minLength:" Should be a valid 10 digit no.",maxLength:" Donot write country code",isNumber:" Must be a number"}})),n.a.createElement(O.a,null,n.a.createElement(_.a,null,n.a.createElement(D.a,{md:12},n.a.createElement(M.a,{htmlFor:"facebookProfile"},"Facebook Profile Link (Optional)")),n.a.createElement(D.a,{md:6},n.a.createElement(P.a,{addonType:"prepend"},"https://www.facebook.com/")),n.a.createElement(D.a,{md:6},n.a.createElement(T.Control.text,{model:".facebookProfile",id:"facebookProfile",name:"facebookProfile",className:"form-control",placeholder:"facebookProfile",validators:{minLength:(e=15,function(t){return!t||t.length>=e}),maxLength:R(30)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".facebookProfile",show:"touched",messages:{minLength:" Should have at least 15 characters, otherwise donot enter this field",maxLength:" Should not exceed 30 characters"}})))),n.a.createElement(_.a,null,n.a.createElement(M.a,null," Check the info. you want to keep public :")),n.a.createElement(_.a,null,n.a.createElement(D.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showroom",id:"showroom",name:"showroom",className:"form-control",defaultValue:!1}),n.a.createElement(M.a,{check:!0}," Room Info"))),n.a.createElement(D.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showphone",id:"showphone",name:"showphone",className:"form-control",defaultValue:!1}),n.a.createElement(M.a,{check:!0,htmlFor:"showphone"}," Contact No."))),n.a.createElement(D.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showfacebook",id:"showfacebook",name:"showfacebook",className:"form-control",defaultValue:!1}),n.a.createElement(M.a,{check:!0,htmlFor:"showfacebook"}," Facebook Profile")))),n.a.createElement("br",null),n.a.createElement(O.a,null,n.a.createElement(h.a,{type:"submit",value:"submit",color:"warning"},"Sign Up"))))))}}]),t}(r.Component),J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("p",{className:"footer",align:"center"},"\xa9 Copyright 2022 IPEx ")}}]),t}(r.Component),z=a(211),Y=a(212),H=a(213),W=a(214),Z=a(215),Q=a(216),X=a(217),$=a(113),K=a(218),ee=a(219),te=a(220),ae=a(221),re=function(){return n.a.createElement("div",{className:"col-12 heading justify-content-center loading text-warning"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h1",{align:"center"},n.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-warning"}),n.a.createElement("br",null),n.a.createElement("br",null),"Loading ...."))},ne=[{id:1,altText:"Auction",src:a(184),caption:"First online bidding platform to sell your stuff"},{id:2,altText:"Slide 2",src:a(185),caption:"Just a click away to buy your favorites"},{id:3,altText:"Slide 3",src:a(186),caption:".......................Sell your stuff and earn money"}],oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={activeIndex:0},a.next=a.next.bind(Object(m.a)(a)),a.previous=a.previous.bind(Object(m.a)(a)),a.goToIndex=a.goToIndex.bind(Object(m.a)(a)),a.onExiting=a.onExiting.bind(Object(m.a)(a)),a.onExited=a.onExited.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state.activeIndex===ne.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}}},{key:"previous",value:function(){if(!this.animating){var e=0===this.state.activeIndex?ne.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"render",value:function(){var e=this,t=this.state.activeIndex,a=this.props.products.slice(0,3).map(function(t){var a;return a=!(!e.props.favorites||!e.props.favorites.products)&&e.props.favorites.products.some(function(e){return e._id===t._id}),n.a.createElement("div",{className:"col-12 col-md-4 mt-2 mb-2"},n.a.createElement(z.a,null,n.a.createElement(Y.a,{top:!0,width:"100%",height:"200",src:t.images[0],onMouseOver:function(e){t.images[1]&&(e.currentTarget.src=t.images[1])},onMouseOut:function(e){e.currentTarget.src=t.images[0]}}),n.a.createElement(H.a,{className:"text-black"},n.a.createElement(W.a,{className:"text-danger"},n.a.createElement("b",null,t.name," \xa0\xa0",e.props.user.userinfo?a?n.a.createElement("span",{className:"fa fa-heart Option",onClick:function(){return a?alert("Already favorite"):e.props.postFavorite(t._id)}}):n.a.createElement("span",{className:"fa fa-heart-o Option",onClick:function(){return a?alert("Already favorite"):e.props.postFavorite(t._id)}}):n.a.createElement(n.a.Fragment,null),"\xa0 \xa0")),n.a.createElement(Z.a,{className:"text-success"},n.a.createElement("b",null,t.bid?n.a.createElement(n.a.Fragment,null,"Bidding range : ",n.a.createElement("span",null,"\u20b9")," ",t.price," -"," ",t.max_bid):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"\u20b9")," ",t.price))),n.a.createElement(Q.a,null,t.description.slice(0,100)+"...."),n.a.createElement(X.a,{tag:I.b,to:"/products/"+t._id,className:"text-center"},n.a.createElement(h.a,{className:"button btn-block",color:"info"},n.a.createElement("i",{className:"fa fa-eye fa-lg"})," \xa0View details")))))}),r=ne.map(function(t){return n.a.createElement($.a,{className:"custom-tag",tag:"div",key:t.src,onExiting:e.onExiting,onExited:e.onExited},n.a.createElement("img",{src:t.src,alt:t.altText,className:"d-block mx-auto"}),n.a.createElement(K.a,{captionHeader:t.caption,className:"text-danger",style:{fontWeight:"bold",fontSize:"72"}}))});return n.a.createElement("div",{className:"container align-self-center"},n.a.createElement("div",{className:" d-none d-md-block"},n.a.createElement("style",null,".custom-tag {\n                    margin-top: 80px;\n                    width: 100%;\n                    max-height: 500px;\n                  }"),n.a.createElement(ee.a,{activeIndex:t,next:this.next,previous:this.previous},n.a.createElement(te.a,{items:ne,activeIndex:t,onClickHandler:this.goToIndex}),r,n.a.createElement(ae.a,{direction:"prev",directionText:"Previous",onClickHandler:this.previous,className:"indicator"}),n.a.createElement(ae.a,{direction:"next",directionText:"Next",onClickHandler:this.next,className:"indicator"}))),n.a.createElement("div",{className:"mt-4 row row-content white-text"},n.a.createElement("p",null,"The first website to sell your old as well as new items with bidding allowed, in IITP. You will find various categories of products here : Stationary, Electronic Gadgets, Bicycles, Books, Clothes, Sports, etc. You will see a list of featured products below, based upon the no. of views"," "),n.a.createElement("p",null,"So, what are you waiting for, just Register and login to get into the store. Upload your old stuff, kept in your rooms, it may help someone in need. Earn profits by allowing auction on your items. Don't miss this opportunity. Just go for it."," ")),n.a.createElement("div",{className:"row row-content white-text justify-content-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h3",{align:"center"},"Featured Products")),this.props.productsLoading?n.a.createElement(re,null):this.props.productsErrMess?n.a.createElement("h3",null,this.props.productsErrMess):a))}}]),t}(r.Component),le=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.products.map(function(t){var a;return a=!(!e.props.favorites||!e.props.favorites.products)&&e.props.favorites.products.some(function(e){return e._id===t._id}),n.a.createElement("div",{className:"col-12 col-md-4"},n.a.createElement(z.a,{className:"mt-2 mb-2"},n.a.createElement(Y.a,{top:!0,width:"100%",height:"200",src:t.images[0],onMouseOver:function(e){t.images[1]&&(e.currentTarget.src=t.images[1])},onMouseOut:function(e){e.currentTarget.src=t.images[0]}}),n.a.createElement(H.a,{className:"text-black"},n.a.createElement(W.a,{className:"text-danger"},n.a.createElement("b",null,t.name," \xa0",e.props.user.userinfo?a?n.a.createElement("span",{className:"fa fa-heart Option",onClick:function(){return a?alert("Already favorite"):e.props.postFavorite(t._id)}}):n.a.createElement("span",{className:"fa fa-heart-o Option",onClick:function(){return a?alert("Already favorite"):e.props.postFavorite(t._id)}}):n.a.createElement(n.a.Fragment,null),"\xa0 \xa0",e.props.user.userinfo&&e.props.user.userinfo._id===t.owner._id?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{onClick:function(){e.props.changeSelected(t._id),e.props.toggleEditModal()},className:"Option fa fa-pencil"}),"\xa0 \xa0"," ",n.a.createElement("span",{onClick:function(){e.props.changeSelected(t._id),e.props.toggleDeleteModal()},className:"Option fa fa-trash"})):n.a.createElement(n.a.Fragment,null))),n.a.createElement(Z.a,{className:"text-success"},n.a.createElement("b",null,t.bid?n.a.createElement(n.a.Fragment,null,"Bidding range : ",n.a.createElement("span",null,"\u20b9")," ",t.price," -"," ",t.max_bid):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"\u20b9")," ",t.price))),n.a.createElement(Q.a,null,t.description.slice(0,100)+"...."),n.a.createElement(X.a,{tag:I.b,to:"/products/"+t._id,className:"text-center"},n.a.createElement(h.a,{className:"button btn-block",color:"info"},n.a.createElement("i",{className:"fa fa-eye fa-lg"})," \xa0View details")))))});return n.a.createElement("div",{className:"container full"},n.a.createElement("div",{className:"heading row row-content white-text justify-content-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h3",{align:"center"},this.props.title)),1===this.props.products.length?this.props.productsLoading?n.a.createElement(re,null):this.props.productsErrMess?n.a.createElement("h3",null,this.props.productsErrMess):t:this.props.productsLoading?n.a.createElement(re,null):this.props.productsErrMess?n.a.createElement("h3",null,this.props.productsErrMess):0===this.props.products.length?n.a.createElement("div",{className:"justify-content-center"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h5",{align:"center"},"There are no products in this list.")):t))}}]),t}(r.Component),se=a(222),ce=a(223),ie=a(224),ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={name:"",price:1e5,cat:["Stationary","Electronic Gadgets","Bicycles","Clothes","Sports","Others","Books"]},a.onChange=a.onChange.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"onChange",value:function(e){var t=this.state.cat,a=-1;if(e.target.checked)t.push(e.target.value);else{for(var r=0;r<t.length;r++)if(t[r]===e.target.value){a=r;break}t.splice(a,1)}this.setState({cat:t})}},{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=["warning","danger","success","info","secondary"],a=new RegExp(this.state.name,"i"),r=this.props.products.map(function(r){var o=e.state.cat.some(function(e){return e===r.cat});return-1!==r.name.search(a)&&r.price<=e.state.price&&o?n.a.createElement(se.a,{key:r._id,className:"text-black"},n.a.createElement(I.b,{to:"/products/".concat(r._id)},n.a.createElement("b",null,"".concat(r.name,"  "))),n.a.createElement(ce.a,{color:t[r.cat.length%5],pill:!0}," ",r.cat),e.props.user.userinfo&&e.props.user.userinfo._id===r.owner._id?n.a.createElement(n.a.Fragment,null,"\xa0 \xa0",n.a.createElement("span",{onClick:function(){e.props.changeSelected(r._id),e.props.toggleEditModal()},className:"Option fa fa-pencil"}),"  ","\xa0 \xa0"," ",n.a.createElement("span",{onClick:function(){e.props.changeSelected(r._id),e.props.toggleDeleteModal()},className:"Option fa fa-trash"})):n.a.createElement(n.a.Fragment,null),n.a.createElement("br",null)," ",n.a.createElement("p",{className:"ml-auto text-success"}," ",n.a.createElement("b",null,r.bid?n.a.createElement(n.a.Fragment,null,"Bidding range : ",n.a.createElement("span",null,"\u20b9")," ",r.price," -"," ",r.max_bid):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"\u20b9")," ",r.price))),n.a.createElement("p",null,"Owner :"," ",n.a.createElement(I.b,{to:"products/".concat(r._id,"/owner")},r.owner.firstname+" "+r.owner.lastname)," ")):n.a.createElement(n.a.Fragment,null)});return this.props.productsLoading?n.a.createElement("div",{className:"container loading white-text"},n.a.createElement("div",{className:"row"},n.a.createElement(re,null))):this.props.productsErrMess?n.a.createElement("div",{className:"container loading white-text"},n.a.createElement("div",{className:"row heading"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,this.props.productsErrMess)))):n.a.createElement("div",{className:"container loading white-text"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 heading"},n.a.createElement("h3",{align:"center"},"Search your product here : "),n.a.createElement(k.a,null,n.a.createElement(_.a,{form:!0},n.a.createElement(D.a,{md:6},n.a.createElement(O.a,null,n.a.createElement(M.a,{for:"name"},"Name of product"),n.a.createElement(S.a,{type:"name",name:"name",id:"name",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})},placeholder:"Enter name of the product"}))),n.a.createElement(D.a,{md:6},n.a.createElement(O.a,null,n.a.createElement(M.a,{for:"price"},"Maximum you can afford"),n.a.createElement(S.a,{type:"price",name:"price",defaultValue:"100000",id:"price",value:this.state.price,onChange:function(t){e.setState({price:isNaN(Number(t.target.value))?1e5:Number(t.target.value)})},placeholder:"Enter name of price"})))),n.a.createElement(_.a,null,n.a.createElement(D.a,{sm:6,md:2},"Category :"," ")),n.a.createElement(O.a,{check:!0},n.a.createElement(_.a,null,n.a.createElement(D.a,{xs:6,md:3},n.a.createElement(M.a,{check:!0,for:"Books"},n.a.createElement(S.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Books",value:"Books",name:"cat"}),"Books")),n.a.createElement(D.a,{xs:6,md:3},n.a.createElement(M.a,{check:!0,for:"Stationary"},n.a.createElement(S.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Stationary",value:"Stationary",name:"cat"}),"Stationary")),n.a.createElement(D.a,{xs:6,md:3},n.a.createElement(M.a,{check:!0,for:"Bicycles"},n.a.createElement(S.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Bicycles",value:"Bicycles",name:"cat"}),"Bicycles")),n.a.createElement(D.a,{xs:6,md:3},n.a.createElement(M.a,{check:!0,for:"Electronic Gadgets"},n.a.createElement(S.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Electronic Gadgets",value:"Electronic Gadgets Science",name:"cat"}),"Electronic Gadgets"))),n.a.createElement(_.a,null,n.a.createElement(D.a,{xs:6,md:3},n.a.createElement(M.a,{check:!0,for:"Clothes"},n.a.createElement(S.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Clothes",value:"Clothes",name:"cat"}),"Clothes")),n.a.createElement(D.a,{xs:6,md:3},n.a.createElement(M.a,{check:!0,for:"Sports"},n.a.createElement(S.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Sports",value:"Sports",name:"cat"}),"Sports")),n.a.createElement(D.a,{xs:6,md:3},n.a.createElement(M.a,{check:!0,for:"Others"},n.a.createElement(S.a,{defaultChecked:!0,type:"checkbox",onChange:this.onChange,id:"Others",value:"Others",name:"cat"}),"Others"))))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),n.a.createElement(ie.a,null,r))),n.a.createElement("br",null))}}]),t}(r.Component),me=a(225),de=a(226);function pe(e){var t=e.toggleModal,a=e.product,r=e.toggleEditModal,o=e.toggleBidEdit,l=e.changeSelected,s=e.user,c=e.favorite,i=e.postFavorite,u=e.approveProduct,m=e.bids.filter(function(e){return e.product&&e.product._id===a._id});return null!=a?n.a.createElement(z.a,null,n.a.createElement(me.a,{tag:"h3",className:"text-danger"},n.a.createElement("b",null,a.name)," \xa0 \xa0",s.userinfo?c?n.a.createElement("span",{className:"fa fa-heart Option",onClick:function(){return c?alert("Already favorite"):i(a._id)}}):n.a.createElement("span",{className:"fa fa-heart-o Option",onClick:function(){return c?alert("Already favorite"):i(a._id)}}):n.a.createElement(n.a.Fragment,null),"\xa0 \xa0 \xa0\xa0",s.userinfo&&s.userinfo._id===a.owner._id?n.a.createElement("span",{className:"fa fa-pencil Option",onClick:function(){l(a._id),r()}}):n.a.createElement(n.a.Fragment,null),n.a.createElement("div",{className:"ml-auto text-success"},n.a.createElement("b",null,a.bid?n.a.createElement(n.a.Fragment,null,"Bidding range : ",n.a.createElement("span",null,"\u20b9")," ",a.price," -"," ",a.max_bid):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"\u20b9")," ",a.price)))),n.a.createElement(H.a,null,n.a.createElement(Q.a,null,n.a.createElement("b",null," Category: ")," ",a.cat,a.bid?n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null,"Minimum Increment in bidding price :")," ",n.a.createElement("span",null,"\u20b9")," ",a.incr):n.a.createElement(n.a.Fragment,null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null," Owner : ")," ",n.a.createElement(I.b,{to:"".concat(a._id,"/owner")},a.owner.firstname+" "+a.owner.lastname)," ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null," Email of owner : ")," ",a.owner.email," ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null,"Descrption: "),n.a.createElement("br",null)," ",a.description," ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null,"Approved by admin: "),n.a.createElement("br",null)," ",a.approved?"Yes":"No"," ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null," No. of Views: ")," ",n.a.createElement("br",null)," ",a.views," ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null," Highest bid: ")," ",n.a.createElement("br",null)," ",m[0]?n.a.createElement(n.a.Fragment,null,"\u20b9 ",m[0].amount):"No bids yet"," ",n.a.createElement("br",null),s.userinfo&&s.userinfo.admin&&!a.approved?n.a.createElement("div",{className:"text-center"},n.a.createElement("br",null),n.a.createElement(h.a,{color:"success",onClick:function(){u(a._id)}},"Approve ",n.a.createElement("i",{className:"fa fa-check"}))):n.a.createElement(n.a.Fragment,null),s.userinfo&&!s.userinfo.admin&&a.approved&&a.owner._id===s.userinfo._id?n.a.createElement("div",{className:"text-center"},n.a.createElement("br",null),n.a.createElement(X.a,{tag:I.b,to:"/bid_history/".concat(a._id)},n.a.createElement(h.a,{color:"warning"},"View bid history ",n.a.createElement("i",{className:"fa fa-history"})))):n.a.createElement(n.a.Fragment,null),s.userinfo&&!s.userinfo.admin&&a.owner._id!==s.userinfo._id&&a.bid?m.some(function(e){return e.bidder._id===s.userinfo._id})?n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("b",null," My bid: ")," ",n.a.createElement("br",null),"\u20b9"," ",m.filter(function(e){return e.bidder._id===s.userinfo._id&&e.product._id===a._id})[0].amount," ","\xa0 \xa0\xa0 \xa0",n.a.createElement("span",{className:"fa fa-pencil Option",onClick:function(){o(m.filter(function(e){return e.bidder._id===s.userinfo._id&&e.product._id===a._id})[0])}})," ",n.a.createElement("br",null),n.a.createElement("br",null)):n.a.createElement("div",{className:"text-center"},n.a.createElement("br",null),n.a.createElement(h.a,{color:"warning",onClick:function(){t()}},"Bid ",n.a.createElement("i",{className:"fa fa-dollar"}))):n.a.createElement(n.a.Fragment,null)),n.a.createElement("br",null)),n.a.createElement(de.a,{className:"text-muted"},n.a.createElement(_.a,null,n.a.createElement(D.a,{md:6},"Created at :"," ",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0}).format(new Date(Date.parse(a.createdAt)))),n.a.createElement(D.a,{md:6},"Last updated at :"," ",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0}).format(new Date(Date.parse(a.updatedAt))))))):n.a.createElement("div",null)}var he=[],Ee=function(e){function t(e){var a;if(Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={activeIndex:0,isModalOpen:!1,bidEdit:!1,amount:0,oldBid:""},a.toggleModal=a.toggleModal.bind(Object(m.a)(a)),a.toggleBidEdit=a.toggleBidEdit.bind(Object(m.a)(a)),a.next=a.next.bind(Object(m.a)(a)),a.previous=a.previous.bind(Object(m.a)(a)),a.goToIndex=a.goToIndex.bind(Object(m.a)(a)),a.onExiting=a.onExiting.bind(Object(m.a)(a)),a.onExited=a.onExited.bind(Object(m.a)(a)),he=[],a.props.product)for(var r=a.props.product.images.filter(function(e){return!!e}),n=0;n<r.length;n++)he.push({id:n,altText:a.props.product.images[n],src:a.props.product.images[n]});return a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"toggleBidEdit",value:function(e){this.setState({bidEdit:!this.state.bidEdit}),this.setState({oldBid:e}),this.setState({amount:e.amount})}},{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.props.product&&this.props.user.isAuthenticated&&this.props.increaseView(this.props.product._id,this.props.product.views),this.props.product&&this.setState({amount:this.props.product.price})}},{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state.activeIndex===he.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}}},{key:"previous",value:function(){if(!this.animating){var e=0===this.state.activeIndex?he.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"render",value:function(){var e=this,t=this.state.activeIndex,a=[];if(this.props.product&&this.props.product.bid)for(var r=(this.props.product.max_bid-this.props.product.price)/this.props.product.incr,o=0;o<=r;o++)a.push(n.a.createElement("option",null,this.props.product.price+o*this.props.product.incr));var l=he.map(function(t){return n.a.createElement($.a,{className:"custom-tag",tag:"div",key:t.src,onExiting:e.onExiting,onExited:e.onExited},n.a.createElement("img",{src:t.src,alt:t.altText,className:"d-block mx-auto"}))});return this.props.isLoading||this.props.bids.isLoading?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement(re,null))):this.props.errMess?n.a.createElement("div",{className:"container loading"},n.a.createElement("div",{className:"row heading white-text"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,this.props.errMess)))):this.props.bids.errMess?n.a.createElement("div",{className:"container loading"},n.a.createElement("div",{className:"row heading white-text"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,this.props.bids.errMess)))):n.a.createElement("div",{className:"container full"},n.a.createElement("div",{className:"heading"},n.a.createElement("style",null,".custom-tag {\n                    max-width: 100vw;\n                    max-height: 700px;\n                  }"),n.a.createElement(ee.a,{activeIndex:t,next:this.next,previous:this.previous},n.a.createElement(te.a,{items:he,activeIndex:t,onClickHandler:this.goToIndex}),l,n.a.createElement(ae.a,{direction:"prev",directionText:"Previous",onClickHandler:this.previous,className:"indicator"}),n.a.createElement(ae.a,{direction:"next",directionText:"Next",onClickHandler:this.next,className:"indicator"}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null)," ",n.a.createElement("br",null),n.a.createElement(pe,{product:this.props.product,isAdmin:this.props.isAdmin,toggleEditModal:this.props.toggleEditModal,changeSelected:this.props.changeSelected,user:this.props.user,postFavorite:this.props.postFavorite,favorite:this.props.favorite,approveProduct:this.props.approveProduct,toggleModal:this.toggleModal,bids:this.props.bids.bids,toggleBidEdit:this.toggleBidEdit}),n.a.createElement("br",null),n.a.createElement(w.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal},n.a.createElement(x.a,{toggle:this.toggleModal},"Bid for a product"),n.a.createElement(y.a,null,n.a.createElement(k.a,{onSubmit:function(t){t.preventDefault(),e.props.postBid(e.props.product._id,e.props.user.userinfo._id,e.state.amount)}},n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"username"},"Username of bidder"),n.a.createElement(S.a,{type:"text",id:"username",name:"username",value:this.props.user.user?this.props.user.user.username:"",disabled:!0})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"product"},"Name of product"),n.a.createElement(S.a,{type:"product",id:"product",name:"product",value:this.props.product.name,disabled:!0})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"amount"},"Amount you want to bid (in \u20b9) :"),n.a.createElement(S.a,{type:"select",name:"amount",id:"amount",value:this.state.amount,onChange:function(t){e.setState({amount:t.target.value})}},a)),n.a.createElement(h.a,{type:"submit",value:"submit",color:"warning"},"Bid")))),n.a.createElement(w.a,{isOpen:this.state.bidEdit,toggle:this.toggleBidEdit},n.a.createElement(x.a,{toggle:this.toggleBidEdit},"Edit your Bid"),n.a.createElement(y.a,null,n.a.createElement(k.a,{onSubmit:function(t){t.preventDefault(),e.props.editBid(e.state.oldBid._id,e.state.amount)}},n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"username"},"Username of bidder"),n.a.createElement(S.a,{type:"text",id:"username",name:"username",value:this.props.user.user?this.props.user.user.username:"",disabled:!0})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"product"},"Name of product"),n.a.createElement(S.a,{type:"product",id:"product",name:"product",value:this.props.product.name,disabled:!0})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"amount"},"Amount you want to bid (in \u20b9) :"),n.a.createElement(S.a,{type:"select",name:"amount",id:"amount",value:this.state.amount,onChange:function(t){e.setState({amount:t.target.value})}},a)),n.a.createElement(h.a,{type:"submit",value:"submit",color:"warning"},"Bid")))))))}}]),t}(r.Component),ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.isLoading?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement(re,null))):this.props.errMess?n.a.createElement("div",{className:"container loading white-text"},n.a.createElement("div",{className:"row heading"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,this.props.errMess)))):n.a.createElement("div",{className:"container mt-6 home text-center align-self-center"},n.a.createElement("div",{className:"row text-center justify-content-center mt-2"},n.a.createElement("br",null),n.a.createElement(z.a,{className:"heading"},n.a.createElement(me.a,null,n.a.createElement("h3",null,"User Details")),n.a.createElement(H.a,null,n.a.createElement(Q.a,null,n.a.createElement("h5",null," ","First Name : ","          "+this.props.user.firstname),n.a.createElement("h5",null," ","Last Name : ","          "+this.props.user.lastname),n.a.createElement("h5",null," Email : ","          "+this.props.user.email),n.a.createElement("h5",null," Username : ","          "+this.props.user.username),this.props.user.showroom?n.a.createElement("h5",null," ","Address :"," ","Room No.          "+this.props.user.block+"-"+this.props.user.room+", "+this.props.user.hostel):n.a.createElement(n.a.Fragment,null),this.props.user.showphone?n.a.createElement("h5",null," Contact No. : ","  +91-"+this.props.user.phone):n.a.createElement(n.a.Fragment,null),this.props.user.showfacebook?n.a.createElement("h5",null," ","Facebook Profile Link :"," ",n.a.createElement("a",{href:"https://www.facebook.com/"+this.props.user.facebookProfile},n.a.createElement("span",{className:"fa fa-facebook"}))):n.a.createElement(n.a.Fragment,null))))))}}]),t}(r.Component),fe=function(e){return e&&e.toString().length},be=function(e){return function(t){return!t||t.toString().length<=e}},ve=function(e){return function(t){return t&&t.toString().length>=e}},Ne=function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},we=function(e){return!isNaN(Number(e))},xe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={isEditModalOpen:!1,isPasswordModalOpen:!1},a.toggleEditModal=a.toggleEditModal.bind(Object(m.a)(a)),a.togglePasswordModal=a.togglePasswordModal.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"togglePasswordModal",value:function(){this.setState({isPasswordModalOpen:!this.state.isPasswordModalOpen})}},{key:"toggleEditModal",value:function(){this.setState({isEditModalOpen:!this.state.isEditModalOpen})}},{key:"render",value:function(){var e,t,a=this;return null===this.props.auth.userinfo?n.a.createElement("div",{className:"row heading"},"Failed to fetch. Please reload the page"):n.a.createElement("div",{className:"container mt-6 home text-center align-self-center"},n.a.createElement("div",{className:"row text-center justify-content-center mt-2"},n.a.createElement(z.a,{className:"heading"},n.a.createElement(me.a,null,n.a.createElement("h3",null,"My Profile")),n.a.createElement(H.a,null,n.a.createElement(Q.a,null,n.a.createElement("h5",null," First Name : ","          "+this.props.auth.userinfo.firstname),n.a.createElement("h5",null," Last Name : ","          "+this.props.auth.userinfo.lastname),n.a.createElement("h5",null," Email : ","          "+this.props.auth.userinfo.email),n.a.createElement("h5",null," Username : ","          "+this.props.auth.user.username),n.a.createElement("h5",null," Address : ","Room No.          "+this.props.auth.userinfo.block+"-"+this.props.auth.userinfo.room+", "+this.props.auth.userinfo.hostel),this.props.auth.userinfo.showroom?" (Publicly Visible)":n.a.createElement(n.a.Fragment,null),n.a.createElement("h5",null," Contact No. : ","  +91-"+this.props.auth.userinfo.phone),this.props.auth.userinfo.showphone?" (Publicly Visible)":n.a.createElement(n.a.Fragment,null),n.a.createElement("h5",null," Facebook Profile Link : ",n.a.createElement("a",{href:"https://www.facebook.com/"+this.props.auth.userinfo.facebookProfile},n.a.createElement("span",{className:"fa fa-facebook"}))),this.props.auth.userinfo.showfacebook?" (Publicly Visible)":n.a.createElement(n.a.Fragment,null)),n.a.createElement(h.a,{color:"info",onClick:this.toggleEditModal},"Edit \xa0","   ",n.a.createElement("span",{className:"fa fa-pencil"}))," ",this.props.auth.userinfo.admin?n.a.createElement("div",null):n.a.createElement(h.a,{color:"info",onClick:this.togglePasswordModal},"Change Password \xa0","   ",n.a.createElement("span",{className:"fa fa-key"}))))),n.a.createElement(w.a,{isOpen:this.state.isEditModalOpen,toggle:this.toggleEditModal},n.a.createElement(x.a,{toggle:this.toggleEditModal},"Edit Profile"),n.a.createElement(y.a,null,n.a.createElement(T.LocalForm,{model:"user",onSubmit:function(e){a.toggleEditModal(),a.props.editUser(a.props.auth.userinfo._id,e.firstname,e.lastname,e.room,e.email,e.block,e.hostel,e.phone,e.facebookProfile,e.showfacebook,e.showphone,e.showroom)}},n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"username"},"Username"),n.a.createElement(T.Control.text,{model:".username",id:"username",name:"username",defaultValue:this.props.auth.user.username,className:"form-control",placeholder:"Username",validators:{required:fe,minLength:ve(3),maxLength:be(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".username",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"firstname"},"First Name"),n.a.createElement(T.Control.text,{model:".firstname",id:"firstname",name:"firstname",defaultValue:this.props.auth.userinfo.firstname,className:"form-control",placeholder:"firstname",validators:{required:fe,minLength:ve(3),maxLength:be(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".firstname",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"lastname"},"Last Name"),n.a.createElement(T.Control.text,{model:".lastname",id:"lastname",name:"lastname",defaultValue:this.props.auth.userinfo.lastname,className:"form-control",placeholder:"lastname",validators:{required:fe,minLength:ve(3),maxLength:be(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".lastname",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"hostel"},"Hostel"),n.a.createElement(T.Control.select,{model:".hostel",id:"hostel",className:"form-control",defaultValue:this.props.auth.userinfo.hostel},n.a.createElement("option",null,"Jasper")," ",n.a.createElement("option",null,"Amber"),n.a.createElement("option",null,"Topaz")," ",n.a.createElement("option",null,"Sapphire"),n.a.createElement("option",null,"Diamond")," ",n.a.createElement("option",null,"Emerald"),n.a.createElement("option",null,"Ruby")," ",n.a.createElement("option",null,"Rosaline"))),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"block"},"Block"),n.a.createElement(T.Control.select,{model:".block",id:"block",className:"form-control",defaultValue:this.props.auth.userinfo.block},n.a.createElement("option",null,"A")," ",n.a.createElement("option",null,"B"),n.a.createElement("option",null,"C")," ",n.a.createElement("option",null,"D"))),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"room"},"Room No."),n.a.createElement(T.Control.text,{model:".room",id:"room",name:"room",defaultValue:this.props.auth.userinfo.room,className:"form-control",placeholder:"room",validators:{required:fe,maxLength:be(4),isNumber:we}}),n.a.createElement(T.Errors,{className:"text-danger",model:".room",show:"touched",messages:{required:"Required",maxLength:" Must be 4 characters or less",isNumber:" Must be a number"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"email"},"E-mail"),n.a.createElement(T.Control.text,{model:".email",id:"email",name:"email",defaultValue:this.props.auth.userinfo.email,className:"form-control",placeholder:"email",validators:{required:fe,validEmail:Ne}}),n.a.createElement(T.Errors,{className:"text-danger",model:".email",show:"touched",messages:{required:"Required",validEmail:" Enter a valid email"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"phone"},"Contact No."),n.a.createElement(T.Control.text,{model:".phone",id:"phone",name:"phone",defaultValue:this.props.auth.userinfo.phone,className:"form-control",placeholder:"phone",validators:{required:fe,minLength:ve(10),maxLength:be(10),isNumber:we}}),n.a.createElement(T.Errors,{className:"text-danger",model:".phone",show:"touched",messages:{required:"Required",minLength:" Should be a valid 10 digit no.",maxLength:" Donot write country code",isNumber:" Must be a number"}})),n.a.createElement(O.a,null,n.a.createElement(_.a,null,n.a.createElement(D.a,{md:12},n.a.createElement(M.a,{htmlFor:"facebookProfile"},"Facebook Profile Link (Optional)")),n.a.createElement(D.a,{md:6},n.a.createElement(P.a,{addonType:"prepend"},"https://www.facebook.com/")),n.a.createElement(D.a,{md:6},n.a.createElement(T.Control.text,{model:".facebookProfile",id:"facebookProfile",name:"facebookProfile",defaultValue:this.props.auth.userinfo.facebookProfile,className:"form-control",placeholder:"facebookProfile",validators:{minLength:(t=15,function(e){return!e||e.length>=t}),maxLength:be(30)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".facebookProfile",show:"touched",messages:{minLength:" Should have at least 15 characters, otherwise donot enter this field",maxLength:" Should not exceed 30 characters"}})))),n.a.createElement(_.a,null,n.a.createElement(M.a,null," Check the info. you want to keep public :")),n.a.createElement(_.a,null,n.a.createElement(D.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showroom",id:"showroom",name:"showroom",defaultValue:this.props.auth.userinfo.showroom,className:"form-control"}),n.a.createElement(M.a,{check:!0}," Room Info"))),n.a.createElement(D.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showphone",id:"showphone",name:"showphone",className:"form-control",defaultValue:this.props.auth.userinfo.showphone}),n.a.createElement(M.a,{check:!0,htmlFor:"showphone"}," Contact No."))),n.a.createElement(D.a,{md:4},n.a.createElement(O.a,{check:!0,inline:!0},n.a.createElement(T.Control.checkbox,{model:".showfacebook",id:"showfacebook",name:"showfacebook",className:"form-control",defaultValue:this.props.auth.userinfo.showfacebook}),n.a.createElement(M.a,{check:!0,htmlFor:"showfacebook"}," Facebook Profile")))),n.a.createElement("br",null),n.a.createElement(O.a,null,n.a.createElement(h.a,{type:"submit",value:"submit",color:"warning"},"Submit"))))),n.a.createElement(w.a,{isOpen:this.state.isPasswordModalOpen,toggle:this.togglePasswordModal},n.a.createElement(x.a,{toggle:this.togglePasswordModal},"Change Password"),n.a.createElement(y.a,null,n.a.createElement(T.LocalForm,{model:"passwordform",onSubmit:function(e){e.newpassword===e.confirm?(a.togglePasswordModal(),a.props.editPassword(a.props.auth.userinfo._id,a.props.auth.user.username,e.newpassword)):alert("Your passwords didn't match. Please try again")}},n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"password"},"Current Password"),n.a.createElement(T.Control.password,{model:".password",id:"password",name:"password",className:"form-control",placeholder:"password",validators:{required:fe,minLength:ve(6),maxLength:be(20),matchcreds:(e=this.props.auth.user.password,function(t){return t===e})}}),n.a.createElement(T.Errors,{className:"text-danger",model:".password",show:"touched",messages:{required:"Required",minLength:" Must be greater than 5 characters",maxLength:" Must be 20 characters or less",matchcreds:" Enter the correct password"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"newpassword"},"New password"),n.a.createElement(T.Control.password,{model:".newpassword",id:"newpassword",name:"newpassword",className:"form-control",placeholder:"New Password",validators:{required:fe,minLength:ve(6),maxLength:be(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".newpassword",show:"touched",messages:{required:"Required",minLength:" Must be greater than 5 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(O.a,null,n.a.createElement(M.a,{htmlFor:"confirm"},"Confirm Password"),n.a.createElement(T.Control.password,{model:".confirm",id:"confirm",name:"confirm",className:"form-control",placeholder:"Re-enter the new password",validators:{required:fe,minLength:ve(6),maxLength:be(20)}}),n.a.createElement(T.Errors,{className:"text-danger",model:".confirm",show:"touched",messages:{required:"Required",minLength:" Must be greater than 5 characters",maxLength:" Must be 20 characters or less"}})),n.a.createElement(h.a,{type:"submit",value:"submit",color:"primary"},"Submit")))))}}]),t}(r.Component);function ye(e){var t=e.product,a=e.deleteFavorite;return n.a.createElement(z.a,{className:"mt-2 mb-2"},n.a.createElement(Y.a,{top:!0,width:"100%",height:"200",src:t.images[0],onMouseOver:function(e){t.images[1]&&(e.currentTarget.src=t.images[1])},onMouseOut:function(e){e.currentTarget.src=t.images[0]}}),n.a.createElement(H.a,{className:"text-black"},n.a.createElement(W.a,{className:"text-danger"},n.a.createElement("b",null,t.name," \xa0",n.a.createElement(h.a,{outline:!0,color:"danger",onClick:function(){a(t._id)}},n.a.createElement("span",{className:"fa fa-times"})))),n.a.createElement(Z.a,{className:"text-success"},n.a.createElement("b",null,t.bid?n.a.createElement(n.a.Fragment,null,"Bidding range : ",n.a.createElement("span",null,"\u20b9")," ",t.price," -"," ",t.max_bid):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"\u20b9")," ",t.price))),n.a.createElement(Q.a,null,t.description.slice(0,100)+"...."),n.a.createElement(X.a,{tag:I.b,to:"/products/"+t._id,className:"text-center"},n.a.createElement(h.a,{className:"button btn-block",color:"info"},n.a.createElement("i",{className:"fa fa-eye fa-lg"})," \xa0View details"))))}var ke=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this;if(this.props.favorites.isLoading)return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row heading white-text"},n.a.createElement(re,null)));if(this.props.favorites.errMess)return n.a.createElement("div",{className:"container full"},n.a.createElement("div",{className:"row heading white-text justify-content-center"},n.a.createElement("h4",{align:"center"},"You have No favorites")));if(this.props.favorites.favorites&&this.props.favorites.favorites.products){var t=this.props.favorites.favorites.products.map(function(t){return n.a.createElement("div",{key:t._id,className:"col-12 col-md-4 white-text"},n.a.createElement(ye,{product:t,deleteFavorite:e.props.deleteFavorite}))});return console.log(this.props.favorites),n.a.createElement("div",{className:"container full"},n.a.createElement("div",{className:"row heading"},n.a.createElement("div",{className:"col-12 white-text justify-content-center mt-4"},n.a.createElement("h3",{align:"center"},"My Favorites"),n.a.createElement("hr",null))),n.a.createElement("div",{className:"row"},t))}return console.log(this.props.favorites),n.a.createElement("div",{className:"container full"},n.a.createElement("div",{className:"row heading white-text justify-content-center"},n.a.createElement("h4",{align:"center"},"You have no favorites")))}}]),t}(r.Component),Oe=a(114),Me=a.n(Oe),Se=(a(190),function(e){return e&&e.length}),Ce=function(e){return!!e},Le=function(e){return function(t){return!t||t<=e}},Fe=function(e){return function(t){return t&&t>=e}},je=function(e){return!isNaN(Number(e))},_e=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={bid:!1,images:[],imageFiles:[]},a.onDrop=a.onDrop.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"onDrop",value:function(e){console.log(e),this.setState({images:this.state.images.concat(e)})}},{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e,t,a=this;return this.props.productsLoading?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement(re,null))):this.props.productsErrMess?n.a.createElement("div",{className:"container loading  white-text"},n.a.createElement("div",{className:"row heading"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,this.props.productsErrMess)))):n.a.createElement("div",{className:"container  white-text "},n.a.createElement("div",{className:"row justify-content-center mt-3"},n.a.createElement("div",{className:"col-12 mt-5"},n.a.createElement("h3",{align:"center"}," Upload a product"))),n.a.createElement("div",{className:"row row-content justify-content-center"},n.a.createElement(T.LocalForm,{onSubmit:function(e){if(e.bid&&Number(e.max_bid)>Number(e.price)&&Number(e.incr)<=Number(e.max_bid-e.price)/2||!e.bid){var t=document.querySelector('input[type="file"]');a.props.postProduct(e.name,e.cat,e.description,e.price,e.bid,e.max_bid,e.incr,t.files)}else Number(e.max_bid)<Number(e.price)?alert("Maximum price should be greater than the minimum price"):alert("Incremental price can be at most half the range of bidding")}},n.a.createElement("div",{className:"card-detail"},n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"name",md:2},"Name"," "),n.a.createElement(D.a,{md:4},n.a.createElement(T.Control.text,{model:".name",id:"name",name:"name",placeholder:"Name of product",className:"form-control",validators:{required:Se,minLength:(t=3,function(e){return e&&e.length>=t}),uniqueName:function(e){return!a.props.products.some(function(t){return t.name===e})}}}),n.a.createElement(T.Errors,{className:"text-danger",model:".name",show:"touched",messages:{required:"Required",minLength:" Must be greater than 2 characters",uniqueName:" There exists a product with this name already"}})),n.a.createElement(M.a,{htmlFor:"cat",md:2},"Category"),n.a.createElement(D.a,{md:4},n.a.createElement(T.Control.select,{model:".cat",name:"cat",id:"cat",className:"form-control",defaultValue:"Stationary"},n.a.createElement("option",null,"Stationary")," ",n.a.createElement("option",null,"Electronic Gadgets"),n.a.createElement("option",null,"Bicycles")," ",n.a.createElement("option",null,"Clothes"),n.a.createElement("option",null,"Sports")," ",n.a.createElement("option",null,"Books"),n.a.createElement("option",null,"Others")))),n.a.createElement(_.a,{className:"form-group"},n.a.createElement(D.a,{md:2},n.a.createElement(T.Control.checkbox,{model:".bid",id:"bid",name:"bid",className:"form-control",disabled:!1,checked:this.state.bid,defaultChecked:this.state.bid,onChange:function(e){a.setState({bid:!a.state.bid})}})),n.a.createElement(D.a,{md:8},n.a.createElement(M.a,{check:!0,htmlFor:"bid"}," ","Allow Bidding"))),this.state.bid?n.a.createElement(n.a.Fragment,null,n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"price",md:4},"Minimum Price (in \u20b9)"," "),n.a.createElement(D.a,{md:8},n.a.createElement(T.Control.text,{model:".price",id:"price",name:"price",defaultValue:10,className:"form-control",validators:{requiredNum:Ce,minVal:Fe(10),isNumber:je}}),n.a.createElement(T.Errors,{className:"text-danger",model:".price",show:"touched",messages:{requiredNum:" Required",minVal:" Must be greater than 10 Rs.",isNumber:" Must be a number"}}))),n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"max_bid",md:4},"Maximum Price (in \u20b9)"," "),n.a.createElement(D.a,{md:8},n.a.createElement(T.Control.text,{model:".max_bid",id:"max_bid",name:"max_bid",defaultValue:1e5,className:"form-control",validators:{requiredNum:Ce,maxVal:Le(1e5),isNumber:je}}),n.a.createElement(T.Errors,{className:"text-danger",model:".max_bid",show:"touched",messages:{requiredNum:" Required",maxVal:" Must be less than 100000 Rs.",isNumber:" Must be a number"}}))),n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"incr",md:4},"Minimum Increment (in \u20b9)"," "),n.a.createElement(D.a,{md:8},n.a.createElement(T.Control.text,{model:".incr",id:"incr",name:"incr",defaultValue:10,className:"form-control",validators:{requiredNum:Ce,minVal:Fe(10),maxVal:Le(1e4),multiple:(e=10,function(t){return!t||t%e===0}),isNumber:je}}),n.a.createElement(T.Errors,{className:"text-danger",model:".incr",show:"touched",messages:{requiredNum:" Required",minVal:" Must be greater than 10 Rs.",maxVal:" Must be less than 10000 Rs.",multiple:" Must be a multiple of 10",isNumber:" Must be a number"}})))):n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"price",md:4},"Price (in \u20b9)"," "),n.a.createElement(D.a,{md:8},n.a.createElement(T.Control.text,{model:".price",id:"price",name:"price",defaultValue:10,className:"form-control",validators:{requiredNum:Ce,minVal:Fe(10),isNumber:je}}),n.a.createElement(T.Errors,{className:"text-danger",model:".price",show:"touched",messages:{requiredNum:" Required",minVal:" Must be greater than 10 Rs.",isNumber:" Must be a number"}}))),n.a.createElement(_.a,null,n.a.createElement(Me.a,{withIcon:!0,label:"Maximum 4 images, Recommended height : 500px, only .gif,.jpg,.png,.jpeg allowed",buttonText:"Choose images",withLabel:!0,onChange:this.onDrop,labelClass:"text-secondary",imgExtension:[".jpg",".gif",".png",".jpeg"],maxFileSize:5242880,withPreview:!0,className:"uploader",name:"images"})),n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"description",md:2},"Description"),n.a.createElement(D.a,{md:10},n.a.createElement(T.Control.textarea,{model:".description",id:"description",name:"description",rows:"12",placeholder:"Some description of the product",className:"form-control"}))),n.a.createElement(_.a,{className:"align-self-center"},n.a.createElement(D.a,{className:"text-center"},n.a.createElement(h.a,{type:"submit",className:"bg-primary"},"Submit")))))),n.a.createElement("br",null))}}]),t}(r.Component),De=a(227);function Pe(e){var t=e.bid,a=e.i,r=new Date(Date.parse(t.updatedAt));return n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,a),n.a.createElement("td",null,n.a.createElement(I.b,{to:"/users/".concat(t.bidder._id)},t.bidder.firstname+" "+t.bidder.lastname)),n.a.createElement("td",null,t.bidder.email),n.a.createElement("td",null,new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(Date.parse(t.createdAt)))),n.a.createElement("td",null,new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit"}).format(r)),n.a.createElement("td",null,t.amount))}var Ie=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a.i=1,a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e,t=this;if(this.props.bids.bids&&this.props.product&&(e=this.props.bids.bids.filter(function(e){return e.product&&e.product._id===t.props.product._id})),this.props.bids.isLoading)return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement(re,null)));if(this.props.bids.errMess)return n.a.createElement("div",{className:"container loading"},n.a.createElement("div",{className:"row heading text-white"},n.a.createElement("div",{className:"col-12"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,this.props.errMess))));if(0!==this.props.bids.bids.length&&e&&0!==e.length){var a=e.map(function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement(Pe,{bid:e,i:t.i++}))});return n.a.createElement("div",{className:"container mt-6 text-center align-self-center full"},n.a.createElement("div",{className:"row text-center justify-content-center"},n.a.createElement("div",{className:"col-12 heading white-text"},n.a.createElement("h3",null,"Bid History for ",n.a.createElement(I.b,{to:"/products/".concat(this.props.product._id)},this.props.product.name)),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(De.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"S.No."),n.a.createElement("th",null,"Name of bidder"),n.a.createElement("th",null,"Email"),n.a.createElement("th",null,"Bid made on"),n.a.createElement("th",null,"Bid updated on"),n.a.createElement("th",null,"Amount (in \u20b9)"))),n.a.createElement("tbody",null,a)),n.a.createElement("br",null),n.a.createElement("br",null))))}return n.a.createElement("div",{className:"container loading"},n.a.createElement("div",{className:"row heading"},n.a.createElement("div",{className:"col-12 text-center text-white"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h4",null,"No bids yet"),n.a.createElement("h4",null,"Wait for a user to bid"))))}}]),t}(r.Component),Te=a(37),Ae=a(31),Re="http://localhost:5000/api/",Be=function(){return{type:"PRODUCTS_LOADING"}},qe=function(e){return{type:"PRODUCTS_FAILED",payload:e}},Ue=function(e){return{type:"ADD_PRODUCTS",payload:e}},Ve=function(e){return{type:"ADD_USERS",payload:e}},Ge=function(){return{type:"USERS_LOADING"}},Je=function(e){return{type:"EDIT_PRODUCT",payload:e}},ze=function(e){return{type:"EDIT_USER",payload:e}},Ye=function(e){return{type:"EDIT_PASSWORD",payload:e}},He=function(e){return{type:"DELETE_PRODUCT",payload:e}},We=function(){return{type:"BIDS_LOADING"}},Ze=function(e){return{type:"BIDS_FAILED",payload:e}},Qe=function(e){return{type:"ADD_BIDS",payload:e}},Xe=function(e){return{type:"USERS_FAILED",payload:e}},$e=function(){return function(e){e({type:"LOGOUT_REQUEST"}),localStorage.removeItem("token"),localStorage.removeItem("creds"),localStorage.removeItem("userinfo"),localStorage.removeItem("viewed"),localStorage.removeItem("timer"),e({type:"LOGOUT_SUCCESS"})}},Ke=function(){return function(e){e(et(!0));var t="Bearer "+localStorage.getItem("token");return fetch(Re+"favorites",{headers:{Authorization:t}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(t){return e(at(t))}).catch(function(t){return e(tt(t.message))})}},et=function(){return{type:"FAVORITES_LOADING"}},tt=function(e){return{type:"FAVORITES_FAILED",payload:e}},at=function(e){return{type:"ADD_FAVORITES",payload:e}},rt=function(e){return e&&e.length},nt=function(e){return!!e},ot=function(e){return function(t){return!t||t<=e}},lt=function(e){return function(t){return t&&t>=e}},st=function(e){return!isNaN(Number(e))},ct="",it=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={isDeleteModalOpen:!1,isEditModalOpen:!1,selectedProduct:null,bid:!1},a.toggleDeleteModal=a.toggleDeleteModal.bind(Object(m.a)(a)),a.toggleEditModal=a.toggleEditModal.bind(Object(m.a)(a)),a.changeSelected=a.changeSelected.bind(Object(m.a)(a)),a.handleSubmitEdit=a.handleSubmitEdit.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchProducts(),this.props.fetchBids();var t=JSON.parse(localStorage.getItem("timer"));t&&Date.now()>t&&$e(),this.timer=setInterval(function(){if(e.props.auth.isAuthenticated){var t;""===ct&&(e.props.fetchFavorites(),ct=e.props.auth.user.username),t=e.props.auth.user.username,ct!==t&&(ct=t,e.props.fetchFavorites())}},1e3),this.props.fetchUsers()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}}]),Object(d.a)(t,[{key:"handleSubmitEdit",value:function(e){e.bid&&e.max_bid>e.price&&e.incr<=(e.max_bid-e.price)/2||!e.bid?(this.toggleEditModal(),this.props.editProduct(this.state.selectedProduct._id,e.name,e.cat,e.description,e.price,e.bid,e.max_bid,e.incr,e.images)):e.max_bid<e.price?alert("Maximum price should be greater than the minimum price"):alert("Incremental price can be at most half the range of bidding")}},{key:"changeSelected",value:function(e){this.setState({selectedProduct:this.props.products.products.filter(function(t){return t._id===e})[0]}),this.setState({bid:this.props.products.products.filter(function(t){return t._id===e})[0].bid})}},{key:"toggleDeleteModal",value:function(){this.setState({isDeleteModalOpen:!this.state.isDeleteModalOpen})}},{key:"toggleEditModal",value:function(){this.setState({isEditModalOpen:!this.state.isEditModalOpen})}},{key:"render",value:function(){var e,t,a,r=this,o=function(e){var t=e.component,a=Object(s.a)(e,["component"]);return n.a.createElement(Te.b,Object.assign({},a,{render:function(e){return r.props.auth.isAuthenticated?n.a.createElement(t,e):n.a.createElement(Te.a,{to:{pathname:"/home",state:{from:e.location}}})}}))},l=function(e){var t=e.component,a=Object(s.a)(e,["component"]);return n.a.createElement(Te.b,Object.assign({},a,{render:function(e){return r.props.auth.isAuthenticated&&!r.props.auth.userinfo.admin?n.a.createElement(t,e):n.a.createElement(Te.a,{to:{pathname:"/home",state:{from:e.location}}})}}))};return n.a.createElement("div",{className:"App"},n.a.createElement(G,{auth:this.props.auth,loginUser:this.props.loginUser,logoutUser:this.props.logoutUser,registerUser:this.props.registerUser}),n.a.createElement(Te.d,{location:this.props.location},n.a.createElement(Te.b,{exact:!0,path:"/home",component:function(){return n.a.createElement(oe,{products:r.props.products.products.filter(function(e){return e.approved}),productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,favorites:!!r.props.auth.isAuthenticated&&r.props.favorites.favorites,postFavorite:r.props.postFavorite})}}),n.a.createElement(Te.b,{exact:!0,path:"/search",component:function(){return n.a.createElement(ue,{products:r.props.products.products.filter(function(e){return e.approved}),productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected})}}),n.a.createElement(Te.b,{exact:!0,path:"/books",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Books"===e.cat&&e.approved}),title:"Books",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected,favorites:!!r.props.auth.isAuthenticated&&r.props.favorites.favorites,postFavorite:r.props.postFavorite})}}),n.a.createElement(function(e){var t=e.component,a=Object(s.a)(e,["component"]);return n.a.createElement(Te.b,Object.assign({},a,{render:function(e){return r.props.auth.isAuthenticated&&r.props.auth.userinfo.admin?n.a.createElement(t,e):n.a.createElement(Te.a,{to:{pathname:"/home",state:{from:e.location}}})}}))},{exact:!0,path:"/pending",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return!e.approved}),title:"Pending Products",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected,favorites:!!r.props.auth.isAuthenticated&&r.props.favorites.favorites,postFavorite:r.props.postFavorite})}}),n.a.createElement(l,{exact:!0,path:"/uploads",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return e.owner&&e.owner._id===r.props.auth.userinfo._id}),title:"My Uploads",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected,favorites:!!r.props.auth.isAuthenticated&&r.props.favorites.favorites,postFavorite:r.props.postFavorite})}}),n.a.createElement(Te.b,{exact:!0,path:"/stationary",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Stationary"===e.cat&&e.approved}),title:"Stationary",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected,favorites:!!r.props.auth.isAuthenticated&&r.props.favorites.favorites,postFavorite:r.props.postFavorite})}}),n.a.createElement(Te.b,{exact:!0,path:"/electronics",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Electronic Gadgets"===e.cat&&e.approved}),title:"Electronic Gadgets",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected,favorites:!!r.props.auth.isAuthenticated&&r.props.favorites.favorites,postFavorite:r.props.postFavorite})}}),n.a.createElement(Te.b,{exact:!0,path:"/bicycles",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Bicycles"===e.cat&&e.approved}),title:"Bicycles",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected,favorites:!!r.props.auth.isAuthenticated&&r.props.favorites.favorites,postFavorite:r.props.postFavorite})}}),n.a.createElement(Te.b,{exact:!0,path:"/clothes",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Clothes"===e.cat&&e.approved}),title:"Clothes",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected,favorites:!!r.props.auth.isAuthenticated&&r.props.favorites.favorites,postFavorite:r.props.postFavorite})}}),n.a.createElement(Te.b,{exact:!0,path:"/sports",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Sports"===e.cat&&e.approved}),title:"Sports",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected,favorites:!!r.props.auth.isAuthenticated&&r.props.favorites.favorites,postFavorite:r.props.postFavorite})}}),n.a.createElement(Te.b,{exact:!0,path:"/others",component:function(){return n.a.createElement(le,{products:r.props.products.products.filter(function(e){return"Others"===e.cat&&e.approved}),title:"Others",productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess,user:r.props.auth,toggleEditModal:r.toggleEditModal,toggleDeleteModal:r.toggleDeleteModal,changeSelected:r.changeSelected,favorites:!!r.props.auth.isAuthenticated&&r.props.favorites.favorites,postFavorite:r.props.postFavorite})}}),n.a.createElement(Te.b,{exact:!0,path:"/products/:productId",component:function(e){var t=e.match,a=r.props.products.products.filter(function(e){return e._id===t.params.productId})[0],o=null;return void 0===a&&(o="\n\n Error 404 :  Product not found"),n.a.createElement(Ee,{product:a,isLoading:r.props.products.isLoading,errMess:r.props.products.errMess||o,toggleEditModal:r.toggleEditModal,changeSelected:r.changeSelected,increaseView:r.props.increaseView,user:r.props.auth,approveProduct:r.props.approveProduct,addToView:r.addToView,postBid:r.props.postBid,bids:r.props.bids,editBid:r.props.editBid,favorite:!!r.props.auth.isAuthenticated&&(null===r.props.favorites.favorites||r.props.favorites.favorites.products.some(function(e){return e._id===t.params.productId})),postFavorite:r.props.postFavorite})}}),n.a.createElement(Te.b,{path:"/products/:productId/owner",component:function(e){var t,a=e.match,o=null,l=r.props.products.products.filter(function(e){return e._id===a.params.productId})[0];return l?t=l.owner:o="\n\n Error 404 :  User not found",void 0===t&&(o="\n\n Error 404 :  User not found"),n.a.createElement(ge,{user:t,isLoading:r.props.products.isLoading,errMess:r.props.products.errMess||o})}}),n.a.createElement(o,{exact:!0,path:"/profile",component:function(){return n.a.createElement(xe,{auth:r.props.auth,editUser:r.props.editUser,editPassword:r.props.editPassword})}}),n.a.createElement(l,{exact:!0,path:"/upload_product",component:function(){return n.a.createElement(_e,{isAdmin:null!=r.props.auth.userinfo&&r.props.auth.userinfo.admin,postProduct:r.props.postProduct,products:r.props.products.products,productsLoading:r.props.products.isLoading,productsErrMess:r.props.products.errMess})}}),n.a.createElement(l,{exact:!0,path:"/bid_history/:productId",component:function(e){var t=e.match,a=r.props.products.products.filter(function(e){return e._id===t.params.productId})[0];return n.a.createElement(Ie,{bids:r.props.bids,auth:r.props.auth,product:a})}}),n.a.createElement(o,{exact:!0,path:"/favorites",component:function(){return n.a.createElement(ke,{favorites:r.props.favorites,deleteFavorite:r.props.deleteFavorite,fetchFavorites:r.props.fetchFavorites})}}),n.a.createElement(Te.b,{path:"/users/:userId",component:function(e){var t=e.match,a=r.props.users.users.filter(function(e){return e._id===t.params.userId})[0],o=null;return void 0===a&&(o="\n\n Error 404 :  User not found"),n.a.createElement(ge,{user:a,isLoading:r.props.users.isLoading,errMess:r.props.users.errMess||o})}}),n.a.createElement(Te.a,{to:"/home"})),n.a.createElement(J,null),n.a.createElement(w.a,{isOpen:this.state.isDeleteModalOpen,toggle:this.toggleDeleteModal},n.a.createElement(x.a,{toggle:this.toggleDeleteModal},"Confirm Deletion"),n.a.createElement(y.a,null,"Product details : ",n.a.createElement("br",null),n.a.createElement("br",null),"Name : ",this.state.selectedProduct?this.state.selectedProduct.name:""," ",n.a.createElement("br",null),"Category : ",this.state.selectedProduct?this.state.selectedProduct.cat:""," ",n.a.createElement("br",null),this.state.selectedProduct?this.state.selectedProduct.bid?"Bidding Range : "+this.state.selectedProduct.price+" - "+this.state.selectedProduct.max_bid:"Price : "+this.state.selectedProduct.price:""," ",n.a.createElement("br",null)," ",n.a.createElement("br",null),"Are you sure you wish to delete this product ? ",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(h.a,{color:"danger",onClick:function(){r.props.deleteProduct(r.state.selectedProduct._id),r.toggleDeleteModal()}},"Yes")," ",n.a.createElement(h.a,{color:"warning",onClick:function(){r.toggleDeleteModal()}},"No"))),this.state.selectedProduct?n.a.createElement(w.a,{isOpen:this.state.isEditModalOpen,toggle:this.toggleEditModal},n.a.createElement(x.a,{toggle:this.toggleEditModal},"Edit a product"),n.a.createElement(y.a,null,n.a.createElement(T.LocalForm,{onSubmit:function(e){return r.handleSubmitEdit(e)}},n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"name",md:2},"Name "),n.a.createElement(D.a,{md:10},n.a.createElement(T.Control.text,{model:".name",id:"name",name:"name",defaultValue:this.state.selectedProduct.name,className:"form-control",validators:{required:rt,minLength:(a=3,function(e){return e&&e.length>=a}),uniqueName:(t=this.state.selectedProduct.name,function(e){return!r.props.products.products.some(function(t){return t.name===e})||e===t})}}),n.a.createElement(T.Errors,{className:"text-danger",model:".name",show:"touched",messages:{required:"Required",minLength:"Must be greater than 2 characters",uniqueName:" There exists a product with this name already"}}))),n.a.createElement(_.a,{className:"form-group"},n.a.createElement(D.a,{md:4},n.a.createElement(T.Control.checkbox,{model:".bid",id:"bid",name:"bid",className:"form-control",disabled:!1,checked:this.state.bid,defaultChecked:this.state.bid,onChange:function(e){r.setState({bid:!r.state.bid})}})),n.a.createElement(D.a,{md:8},n.a.createElement(M.a,{check:!0,htmlFor:"bid"}," Allow Bidding"))),this.state.bid?n.a.createElement(n.a.Fragment,null,n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"price",md:4},"Minimum Price (in \u20b9) "),n.a.createElement(D.a,{md:8},n.a.createElement(T.Control.text,{model:".price",id:"price",name:"price",defaultValue:this.state.selectedProduct.price,className:"form-control",validators:{requiredNum:nt,minVal:lt(10),isNumber:st}}),n.a.createElement(T.Errors,{className:"text-danger",model:".price",show:"touched",messages:{requiredNum:" Required",minVal:" Must be greater than 10 Rs.",isNumber:" Must be a number"}}))),n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"max_bid",md:4},"Maximum Price (in \u20b9) "),n.a.createElement(D.a,{md:8},n.a.createElement(T.Control.text,{model:".max_bid",id:"max_bid",name:"max_bid",defaultValue:this.state.selectedProduct.max_bid,className:"form-control",validators:{requiredNum:nt,maxVal:ot(1e5),isNumber:st}}),n.a.createElement(T.Errors,{className:"text-danger",model:".max_bid",show:"touched",messages:{requiredNum:" Required",maxVal:" Must be less than 100000 Rs.",isNumber:" Must be a number"}}))),n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"incr",md:4},"Minimum Increment (in \u20b9) "),n.a.createElement(D.a,{md:8},n.a.createElement(T.Control.text,{model:".incr",id:"incr",name:"incr",defaultValue:this.state.selectedProduct.incr,className:"form-control",validators:{requiredNum:nt,minVal:lt(10),maxVal:ot(1e4),multiple:(e=10,function(t){return!t||t%e===0}),isNumber:st}}),n.a.createElement(T.Errors,{className:"text-danger",model:".incr",show:"touched",messages:{requiredNum:" Required",minVal:" Must be greater than 10 Rs.",maxVal:" Must be less than 10000 Rs.",multiple:" Must be a multiple of 10",isNumber:" Must be a number"}})))):n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"price",md:4},"Price (in \u20b9) "),n.a.createElement(D.a,{md:8},n.a.createElement(T.Control.text,{model:".price",id:"price",name:"price",defaultValue:this.state.selectedProduct.price,className:"form-control",validators:{requiredNum:nt,minVal:lt(10),isNumber:st}}),n.a.createElement(T.Errors,{className:"text-danger",model:".price",show:"touched",messages:{requiredNum:" Required",minVal:" Must be greater than 10 Rs.",isNumber:" Must be a number"}}))),n.a.createElement(_.a,{className:"form-group"},n.a.createElement(D.a,null,n.a.createElement(M.a,{htmlFor:"cat"},"Category"),n.a.createElement(T.Control.select,{model:".cat",id:"cat",className:"form-control",defaultValue:this.state.selectedProduct.cat},n.a.createElement("option",null,"Stationary")," ",n.a.createElement("option",null,"Electronic Gadgets"),n.a.createElement("option",null,"Bicycles")," ",n.a.createElement("option",null,"Clothes"),n.a.createElement("option",null,"Sports")," ",n.a.createElement("option",null,"Books"),n.a.createElement("option",null,"Others")))),n.a.createElement(_.a,{className:"form-group"},n.a.createElement(M.a,{htmlFor:"description",md:2},"Description"),n.a.createElement(D.a,{md:10},n.a.createElement(T.Control.textarea,{model:".description",id:"description",name:"description",rows:"12",defaultValue:this.state.selectedProduct.description,className:"form-control"}))),n.a.createElement(_.a,null,n.a.createElement(D.a,{className:"ml-auto mr-auto"},n.a.createElement(h.a,{type:"submit",className:"bg-primary"},"Submit")))))):n.a.createElement(n.a.Fragment,null))}}]),t}(r.Component),ut=Object(Te.g)(Object(Ae.connect)(function(e){return{products:e.products,auth:e.auth,bids:e.bids,users:e.users,favorites:e.favorites}},function(e){return{fetchProducts:function(){e(function(e){return e(Be(!0)),fetch(Re+"products").then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(t){return e(Ue(t))}).catch(function(t){return e(qe(t.message))})})},fetchBids:function(){e(function(e){var t="Bearer "+localStorage.getItem("token");return e(We(!0)),fetch(Re+"bids",{headers:{Authorization:t}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(t){return e(Qe(t))}).catch(function(t){return e(Ze(t.message))})})},fetchUsers:function(){e(function(e){return e(Ge(!0)),fetch(Re+"users").then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(t){return e(Ve(t))}).catch(function(t){return e(Xe(t.message))})})},increaseView:function(t,a){return e(function(e,t){return function(a){var r=JSON.parse(localStorage.getItem("viewed"));if(!r||-1===r.indexOf(e))return r?r.push(e):r=[e],localStorage.setItem("viewed",JSON.stringify(r)),fetch(Re+"products/views/"+e,{method:"POST",body:JSON.stringify({views:t+1}),headers:{"Content-Type":"application/json"}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return a(Je(e))}).catch(function(e){alert("Your product could not be edited\nError: "+e.message)})}}(t,a))},postProduct:function(t,a,r,n,o,l,s,c){return e(function(e,t,a,r,n,o,l,s){return function(c){var i=new FormData;i.append("name",e),i.append("cat",t),i.append("price",r),i.append("bid",n),o&&i.append("max_bid",o),l&&i.append("incr",l),i.append("description",a),i.append("images",s[0]),i.append("images",s[1]),i.append("images",s[2]),i.append("images",s[3]);var u="Bearer "+localStorage.getItem("token");return fetch(Re+"products",{method:"POST",body:i,headers:{Authorization:u}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return alert("Product uploaded successfully.\nPending for approval by admin."),c({type:"ADD_PRODUCT",payload:e})}).catch(function(e){alert("Your product could not be added\nError: "+e.message)})}}(t,a,r,n,o,l,s,c))},editProduct:function(t,a,r,n,o,l,s,c,i){return e(function(e,t,a,r,n,o,l,s,c){return function(i){var u={name:t,cat:a,description:r,price:n,max_bid:l,bid:o,incr:s,images:c},m="Bearer "+localStorage.getItem("token");return fetch(Re+"products/"+e,{method:"PUT",body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:m}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return i(Je(e))}).catch(function(e){alert("Your product could not be edited\nError: "+e.message)})}}(t,a,r,n,o,l,s,c,i))},deleteProduct:function(t){return e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token");return fetch(Re+"products/"+e,{method:"DELETE",headers:{Authorization:a}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return t(He(e))}).catch(function(e){alert("Your product could not be deleted\nError: "+e.message)})}}(t))},loginUser:function(t){return e(function(e){return function(t){return t(function(e){return{type:"LOGIN_REQUEST",creds:e}}(e)),fetch(Re+"users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(a){if(!a.success){var r=new Error("Error "+a.status);throw r.response=a,r}var n=Date.now()+36e5;localStorage.setItem("token",a.token),localStorage.setItem("creds",JSON.stringify(e)),localStorage.setItem("timer",JSON.stringify(n)),localStorage.setItem("viewed",JSON.stringify([])),localStorage.setItem("userinfo",JSON.stringify(a.userinfo)),setTimeout(function(){Ke()},0),setTimeout(function(){$e(),alert("Your JWT token has expired. \nPlease log in again to continue.")},36e5),t(function(e){return{type:"LOGIN_SUCCESS",token:e.token,userinfo:e.userinfo}}(a))}).catch(function(e){return alert(e.message+"\n Username and password didn't match"),t({type:"LOGIN_FAILURE",message:e.message})})}}(t))},logoutUser:function(){return e($e())},registerUser:function(t){return e(function(e){return function(t){return fetch(Re+"users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){if(!e.success){var t=new Error("Error "+e.status);throw t.response=e,t}alert("Registration Successful")}).catch(function(e){return alert(e.message+"\nMay be someone has already registered with that username or email \nTry Entering a new username or email ")})}}(t))},editUser:function(t,a,r,n,o,l,s,c,i,u,m,d){return e(function(e,t,a,r,n,o,l,s,c,i,u,m){return function(d){var p={firstname:t,lastname:a,room:r,email:n,block:o,hostel:l,phone:s,facebookProfile:c,showfacebook:i,showphone:u,showroom:m},h="Bearer "+localStorage.getItem("token");return fetch(Re+"users/"+e,{method:"PUT",body:JSON.stringify(p),headers:{"Content-Type":"application/json",Authorization:h}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return localStorage.removeItem("userinfo"),localStorage.setItem("userinfo",JSON.stringify(e)),d(ze(e))}).catch(function(e){alert("Your profile could not be edited\nError: "+e.message+"\n May be someone has already registered with that Email ID or username")})}}(t,a,r,n,o,l,s,c,i,u,m,d))},editPassword:function(t,a,r){return e(function(e,t,a){return function(r){var n="Bearer "+localStorage.getItem("token");return fetch(Re+"users/password/"+e,{method:"PUT",body:JSON.stringify({password:a}),headers:{"Content-Type":"application/json",Authorization:n}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText+"\n ");throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){var n={username:t,password:a};return localStorage.removeItem("creds"),localStorage.setItem("creds",JSON.stringify(n)),alert("Password changed successfully"),r(Ye(n))}).catch(function(e){alert("Your password could not be changed\nError: "+e.message)})}}(t,a,r))},editBid:function(t,a){return e(function(e,t){return function(a){var r="Bearer "+localStorage.getItem("token");return fetch(Re+"bids/"+e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify({amount:t})}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return alert("Bit edited successfully"),a({type:"FREEZE_BID",payload:e})}).catch(function(e){alert("Bid could not be edited\nError: "+e.message)})}}(t,a))},postBid:function(t,a,r){return e(function(e,t,a){return function(r){var n={product:e,bidder:t,amount:a};console.log(n);var o="Bearer "+localStorage.getItem("token");return fetch(Re+"bids",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:o},credentials:"same-origin"}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){return alert("Product bidd successfully"),r({type:"ADD_BID",payload:e})}).catch(function(e){alert("Product could not be bidd\nError: "+e.message+"\n")})}}(t,a,r))},fetchFavorites:function(){return e(Ke())},postFavorite:function(t){return e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token");return fetch(Re+"favorites/"+e,{method:"POST",body:JSON.stringify({_id:e}),headers:{"Content-Type":"application/json",Authorization:a},credentials:"same-origin"}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){t(at(e))}).catch(function(e){return t(tt(e.message))})}}(t))},deleteFavorite:function(t){return e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token");return fetch(Re+"favorites/"+e,{method:"DELETE",headers:{Authorization:a},credentials:"same-origin"}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){t(at(e))}).catch(function(e){return t(tt(e.message))})}}(t))},approveProduct:function(t){return e((a=t,function(e){var t="Bearer "+localStorage.getItem("token");return fetch(Re+"products/approve/"+a,{method:"POST",headers:{Authorization:t}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(t){return e(Je(t))}).catch(function(e){alert("Your product could not be edited\nError: "+e.message)})}));var a}}})(it)),mt=a(29),dt=a(115),pt=a(12),ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCTS":return Object(pt.a)({},e,{isLoading:!1,errMess:null,products:t.payload});case"PRODUCTS_LOADING":return Object(pt.a)({},e,{isLoading:!0,errMess:null,products:[]});case"PRODUCTS_FAILED":return Object(pt.a)({},e,{isLoading:!1,errMess:t.payload});case"ADD_PRODUCT":var a=t.payload;return Object(pt.a)({},e,{products:e.products.concat(a)});case"EDIT_PRODUCT":var r=t.payload;return Object(pt.a)({},e,{products:e.products.map(function(e){return e._id===r._id?r:e})});case"DELETE_PRODUCT":var n=t.payload;return Object(pt.a)({},e,{products:e.products.filter(function(e){return e._id!==n._id})});default:return e}},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token"),user:localStorage.getItem("creds")?JSON.parse(localStorage.getItem("creds")):null,userinfo:localStorage.getItem("userinfo")?JSON.parse(localStorage.getItem("userinfo")):null,errMess:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(pt.a)({},e,{isLoading:!0,isAuthenticated:!1,user:t.creds});case"LOGIN_SUCCESS":return Object(pt.a)({},e,{isLoading:!1,isAuthenticated:!0,errMess:"",token:t.token,userinfo:t.userinfo});case"LOGIN_FAILURE":return Object(pt.a)({},e,{isLoading:!1,isAuthenticated:!1,errMess:t.message});case"LOGOUT_REQUEST":return Object(pt.a)({},e,{isLoading:!0,isAuthenticated:!0});case"LOGOUT_SUCCESS":return Object(pt.a)({},e,{isLoading:!1,isAuthenticated:!1,token:"",user:null,userinfo:null});case"EDIT_USER":return Object(pt.a)({},e,{userinfo:t.payload});case"EDIT_PASSWORD":return Object(pt.a)({},e,{user:t.payload});default:return e}},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,bids:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BIDS":return Object(pt.a)({},e,{isLoading:!1,errMess:null,bids:t.payload});case"BIDS_LOADING":return Object(pt.a)({},e,{isLoading:!0,errMess:null,bids:[]});case"BIDS_FAILED":return Object(pt.a)({},e,{isLoading:!1,errMess:t.payload});case"ADD_BID":var a=t.payload;return Object(pt.a)({},e,{bids:e.bids.concat(a)});case"FREEZE_BID":var r=t.payload;return Object(pt.a)({},e,{bids:e.bids.map(function(e){return e._id===r._id?r:e})});default:return e}},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USERS":return Object(pt.a)({},e,{isLoading:!1,errMess:null,users:t.payload});case"USERS_LOADING":return Object(pt.a)({},e,{isLoading:!0,errMess:null,users:[]});case"USERS_FAILED":return Object(pt.a)({},e,{isLoading:!1,errMess:t.payload});default:return e}},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,favorites:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITES":return Object(pt.a)({},e,{isLoading:!1,errMess:null,favorites:t.payload});case"FAVORITES_LOADING":return Object(pt.a)({},e,{isLoading:!0,errMess:null,favorites:null});case"FAVORITES_FAILED":return Object(pt.a)({},e,{isLoading:!1,errMess:t.payload,favorites:null});default:return e}},vt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||mt.compose,Nt=(a(191),a(192),a(193),Object(mt.createStore)(Object(mt.combineReducers)({products:ht,auth:Et,bids:gt,users:ft,favorites:bt}),vt(Object(mt.applyMiddleware)(dt.a))));var wt=function(){return n.a.createElement(Ae.Provider,{store:Nt},n.a.createElement(I.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(ut,null))))};l.a.render(n.a.createElement(wt,null),document.getElementById("root"))}},[[116,1,2]]]);
//# sourceMappingURL=main.75ed0a38.chunk.js.map